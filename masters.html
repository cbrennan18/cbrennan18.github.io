<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-153213137-1"></script>
    <title>Ciaran Brennan | US Masters 2021</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Ciaran Brennan">
    <meta name="description" content="I've recently decided to build my own personal website to use as a blog about some of the projects I do in my spare time, which can be found here."/>
    <link rel="stylesheet" type="text/css" href="./css/main.css" />

    <!-- OpenGraph Meta -->
    <<meta property="og:site_name" content="cbrennan.ie">
    <meta property="og:title" content="Ciaran Brennan - 2021 US Masters Augusta Buster">
    <meta property="og:description" content="Tracking how the group's players are performing at the 2021 US Masters in Augusta.">
    <meta property="og:image" itemprop="image" content="https://cbrennan.ie/img/oldheadofkinsale.min.jpg" />
    <meta property="og:url" content="https://cbrennan.ie/masters">
    <meta property="og:image:secure_url" itemprop="image" content="https://cbrennan.ie/img/oldheadofkinsale.min.jpg" />
    <meta property="og:type" content="website">
    <meta property="og:image:width" content="1200" />
    <meta property="og:updated_time" content="1617786000">

    <!-- Favicon -->
    <link rel="shortcut icon" href="./img/favicon.ico" type="image/x-icon" />

    <!-- Google Fonts -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" type="text/javascript"></script>
    <link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap" rel="stylesheet">

    <!--Font Awesome Solid + Brands -->
    <link href="./css/fontawesome-5.15.1/css/fontawesome.css" rel="stylesheet">
    <link href="./css/fontawesome-5.15.1/css/brands.css" rel="stylesheet">

    <!-- AOS Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <!-- Javascript -->
    <script type="text/javascript" src="js/external.js"></script>
    <script type="text/javascript" src="js/masters.js"></script>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- Datatables -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.24/af-2.3.5/b-1.7.0/b-colvis-1.7.0/b-html5-1.7.0/b-print-1.7.0/cr-1.5.3/date-1.0.3/fc-3.3.2/fh-3.1.8/kt-2.6.1/r-2.2.7/rg-1.1.2/rr-1.2.7/sc-2.0.3/sb-1.0.1/sp-1.2.2/sl-1.3.3/datatables.min.css"/>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.24/af-2.3.5/b-1.7.0/b-colvis-1.7.0/b-html5-1.7.0/b-print-1.7.0/cr-1.5.3/date-1.0.3/fc-3.3.2/fh-3.1.8/kt-2.6.1/r-2.2.7/rg-1.1.2/rr-1.2.7/sc-2.0.3/sb-1.0.1/sp-1.2.2/sl-1.3.3/datatables.min.js"></script>
</head>

<body>
<!-- Navbar -->
<div w3-include-html="navbar.html"></div>
<div class="body-padding-bottom">
    <section class="pt-4 pt-md-11">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 col-md-10 col-lg-8 order-md-2 pt-5 pb-5">
                    <h2 class="text-center text-md-left pt-5">
                        MASTERS <span class="text-danger">BUSTER</span>
                    </h2>
                    <h6 class="text-center text-md-left">
                        <i>7 April 2021, 09:00</i>
                    </h6>
                    <div data-aos="fade-up" data-aos-duration="2000">
                        <img src="img/oldheadofkinsale.jpg" class="img-fluid" alt="Full Moon Over The Old Head of Kinsale Photo by Cian O'Regan Photography"/>
                        <div class="text-right">
                            <a style="background-color:#d9d9d9;color:black;text-decoration:none;padding:4px 6px;/*noinspection CssInvalidPropertyValue*/font-family:-apple-system, BlinkMacSystemFont, San Francisco, Helvetica Neue, Helvetica, Ubuntu, Roboto, Noto, Segoe UI, Arial, sans-serif;font-size:12px;font-weight:bold;line-height:1.2;display:inline-block;border-radius:3px" href="https://www.cianoregan.com/collections/all/products/oldhead" target="_blank" rel="noopener noreferrer" title="Cian O'Regan Photography"><span style="display:inline-block;padding:2px 3px">Full Moon Over The Old Head of Kinsale<br>Photo by Cian O'Regan Photography</span></a>
                        </div>
                        <!-- Content -->
                        <div class="text-center">
                        </div>
                        <br><br>
                        <table id="masters" class="table display nowrap table-striped table-borderless" width="100%">
                            <thead>
                            <tr>
                                <th class="font-weight-normal pb-1 px-2">OWNER</th>
                                <th class="font-weight-normal pb-1 px-2">POS</th>
                                <th class="font-weight-normal pb-1 px-2"></th>
                                <th class="font-weight-normal pb-1 px-2">PLAYER</th>
                                <th class="font-weight-normal pb-1 px-2">OVR</th>
                                <th class="font-weight-normal pb-1 px-2">THRU</th>
                                <th class="font-weight-normal pb-1 px-2">RND</th>
                                <th class="font-weight-normal pb-1 px-2">R1</th>
                                <th class="font-weight-normal pb-1 px-2">R2</th>
                                <th class="font-weight-normal pb-1 px-2">R3</th>
                                <th class="font-weight-normal pb-1 px-2">R4</th>
                                <th class="font-weight-normal pb-1 px-2">ODDS</th>
                                <th style="display: none">ODDS2</th>
                                <th style="display: none">SORT</th>
                            </tr>
                            </thead>
                            <tbody style="font-size:smaller; font-weight: 600">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div> <!-- / .row -->
        </div> <!-- / .container -->
    </section>
</div>

<div w3-include-html="footer.html"></div>
<!-- Cookie Consent -->
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.1/cookieconsent.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.1/cookieconsent.min.js" data-cfasync="false"></script>
<script>
    window.addEventListener('load', function(){
        window.cookieconsent.initialise({
            type: "opt-in",
            theme: "classic",
            palette: {
                popup: {
                    background: "#28f",
                    text: "#fff"
                },
                button: {
                    background: "#fff",
                    text: "#28f"
                }
            },
            content: {
                link: "Learn more.",
                href: "https://www.cookiesandyou.com/"
            },
            onInitialise: function(status) {
                if(status === cookieconsent.status.allow) myScripts();
            },
            onStatusChange: function(status) {
                if (this.hasConsented()) myScripts();
            }
        })
    });

    function myScripts() {

        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-153213137-1', { 'anonymize_ip': true });

    }
</script>
<!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "872b7537826746aca4833c393945e92d"}'></script><!-- End Cloudflare Web Analytics -->
</body>

<script>
    includeHTML();
    scrollAnimation();
    AOS.init();

    $( document ).ready(function() {

        let ownerArray;
        $.getJSON('./files/masters.json', function (json) {
            ownerArray = json;
        });

        let masters_data;
        let golfers;
        function callback(response) {
            masters_data = response;
            golfers = masters_data.result.golfers;
            addPeople(golfers);

            $('#masters').DataTable( {
                "data": golfers,
                dom: '<"toolbar">Bfrtip',
                buttons: [
                    {
                        extend: 'pdfHtml5',
                        text: 'Save as PDF',
                        title: "2021 Masters Buster",
                        filename: "2021MastersBuster",
                        exportOptions: {
                            columns: [ 0, 1, 3, 4, 5, 6, 7, 8, 9, 10, 11]
                        }
                    },
                    {
                        extend: 'excelHtml5',
                        text: 'Save as Excel',
                        title: "2021 Masters Buster",
                        filename: "2021MastersBuster",
                        exportOptions: {
                            columns: [ 0, 1, 3, 4, 5, 6, 7, 8, 9, 10, 11]
                        }
                    },
                ],
                "searching": true,
                "lengthChange": false,
                "ordering": true,
                "pageLength": 15,
                "scrollX": true,
                "pagingType": "numbers",
                "language": {
                    "info": "Page _PAGE_ of _PAGES_",
                    "infoEmpty": "",
                },
                "columns": [
                    { "data": "owner" },
                    { "data": "position" },
                    { "data": "representsCountryUrl",
                        "render": function(data, type, row) {
                        return '<img src="'+data+'" height="18px" width="30px" style="padding: 0 !important;" />';
                        }
                    },
                    { "data": "fullName" },
                    { "data": "overallPar",
                        "render": function(data, type, row) {
                            if (data === 0) {
                                return '<td><div class="text-white bg-primary">'+ "E" +'</div></td>';
                            } else if (data < 0) {
                                return '<td><div class="text-white bg-danger">'+ data +'</div></td>';
                            } else {
                                return '<td><div class="text-white bg-dark">+' + data +'</div></td>';
                            }

                        }
                    },
                    { "data": "thruHole",
                        "render": function(data, type, row) {
                            if(type === 'display' && data == null) {
                                return row.teeTimeUTC.slice(0, -7);
                            } else if (type === 'display' && data === 18){
                                return "F"
                            } else {
                                return data;
                            }
                        },
                        "sort": "thruHole"
                    },
                    { "data": "todayPar",
                        "render": function(data, type, row) {
                            if (data === 0 || data == null) {
                                return '<td><div class="text-white bg-primary">'+ "E" +'</div></td>';
                            } else if (data < 0) {
                                return '<td><div class="text-white bg-danger">'+ data +'</div></td>';
                            } else {
                                return '<td><div class="text-white bg-dark">+' + data +'</div></td>';
                            }
                        }
                    },
                    { "data": "totalStrokes",
                        "render": function(data, type, row) {
                            let score = row.leaderboardRounds;
                            if(type === "display" && score.length > 0) {
                                return score[0].roundScore;
                            } else {
                                return data;
                            }
                        }
                    },
                    { "data": "totalStrokes",
                        "render": function(data, type, row) {
                            let score = row.leaderboardRounds;
                            if(type === "display" && score.length > 1) {
                                return score[1].roundScore;
                            } else {
                                return "";
                            }
                        }
                    },
                    { "data": "totalStrokes",
                        "render": function(data, type, row) {
                            let score = row.leaderboardRounds;
                            if(type === "display" && score.length > 2) {
                                return score[2].roundScore;
                            } else {
                                return "";
                            }
                        }
                    },
                    { "data": "totalStrokes",
                        "render": function(data, type, row) {
                            let score = row.leaderboardRounds;
                            if(type === "display" && score.length > 3) {
                                return score[3].roundScore;
                            } else {
                                return "";
                            }
                        }
                    },
                    { "data": "odds"},
                    { "data": "oddsTranslated"},
                    { "data": "sortHelp",
                        "render": function(data) {
                            if (data == null) {
                                return 100;
                            } else {
                                return data;
                            }
                        }
                    },
                    { "data": "teeTimeUTC"},
                ],
                'columnDefs': [
                    { 'orderData':[12], 'targets': [11] },
                    { 'orderData':[13], 'targets': [1] },
                    { 'orderData':[13], 'targets': [4] },
                    { 'orderData':[13], 'targets': [6] },
                    {
                        'targets': [2],
                        'visible': true,
                        'orderable': false,
                        'searchable': false
                    },
                    {
                        'targets': [12],
                        'visible': false,
                        'searchable': false
                    },
                    {
                        'targets': [13],
                        'visible': false,
                        'searchable': false
                    },
                    {
                        'targets': [14],
                        'visible': false,
                        'searchable': false
                    },
                    { 'className': "text-right", "targets": [7, 8, 9, 10, 11] },
                    { 'className': "text-center", "targets": [4, 5, 6] },
                ],
                "order": [[ 1, "asc" ], [ 5, 'desc' ], [14, 'asc']]
            } );
            $("div.toolbar").html('<h3 class="text-center">Leaderboard</h3><p class="text-center font-italic font-weight-light">Click on headers to sort</p>');
        }
        function addPeople(golfers) {
            let i, j;
            for (i = 0; i < golfers.length; i++) {
                if (golfers[i].lastName === "Mickelson") {
                    golfers[i].representsCountryUrl = "https://cbrennan.ie/img/1.jpg";
                } else if (golfers[i].lastName === "Koepka") {
                    golfers[i].representsCountryUrl = "https://cbrennan.ie/img/2.jpg";
                }
                golfers[i].fullName = getInitials(golfers[i].firstName) + ". " + golfers[i].lastName;
                for (j = 0; j < ownerArray.length; j++) {
                    if (ownerArray[j].player === (golfers[i].firstName + " " + golfers[i].lastName)) {
                        golfers[i].owner = ownerArray[j].owner;
                    }
                }
            }
            console.log(golfers);
        }

        function getInitials (name) {
            let parts = name.split(' ')
            let initials = ''
            for (let i = 0; i < parts.length; i++) {
                if (parts[i].length > 0 && parts[i] !== '') {
                    initials += parts[i][0]
                }
            }
            return initials
        }

        $.ajax({
            type: "GET",
            global: false,
            dataType: 'json',
            url: "https://fplcorsproxy.herokuapp.com/https://www.golfchannel.com/api/v2/events/19208/leaderboard",
            'success': function(data){
                callback(data);
            },
        });

    });

</script>

<script>

</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</html>